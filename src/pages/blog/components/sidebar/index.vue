<script lang="ts" setup>

import SidebarItem from './sidebar-item.vue'

const props = defineProps<{

  /**
   * æ–‡ä»¶å¤¹æ•°ç»„
   */
  fileList: BlogType.Folder[]
}>()

const emit = defineEmits<{
  fileSelect: [file: BlogType.MdFile]
}>()

console.log('%c Line:12 ğŸ­ props', 'color:#42b983', props.fileList)

function handleOpen(key: string, keyPath: string[]) {
  console.log(key, keyPath)
}

function handleClose(key: string, keyPath: string[]) {
  console.log(key, keyPath)
}

function handleFileSelect(file: BlogType.MdFile) {
  console.log('%c Line:44444 ğŸ© file', 'color:#e41a6a', file)
  emit('fileSelect', file) // è¿™é‡Œè¦ emit åˆ°çˆ¶ç»„ä»¶
}

</script>

<template>
  <el-menu
    default-active="2"
    class="el-menu-vertical-demo !w-full"
    @open="handleOpen"
    @close="handleClose"
  >
    <SidebarItem
      :nodes="fileList"
      @file-item-select="handleFileSelect"
    />
  </el-menu>
</template>

<style>

</style>
