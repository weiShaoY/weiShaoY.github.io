<!------  2025-04-16---18:18---ÊòüÊúü‰∏â  ------>
<!------------------------------------    ------------------------------------------------->
<script lang="ts" setup>
import { useTestStore } from '@/store'

import Breadcrumb from './breadcrumb.vue'

import FastWidth from './fast-enter.vue'

const { width } = useWindowSize()

const testStore = useTestStore()

const topWidth = computed(() => {
  return `calc(100% - ${testStore.setting.menu.leftMenuWidth + testStore.setting.menu.rightMenuWidth}px`
})

console.log('%c Line:14 üçë topWidth.value', 'color:#465975', topWidth.value)

/**
 *  ÊòØÂê¶Âà∑Êñ∞
 */
const refreshLoading = ref(false)

/**
 *  Âà∑Êñ∞
 */
function handleRefresh(time: number = 300) {
  refreshLoading.value = true

  setTimeout(() => {
    refreshLoading.value = false
    testStore.isRefresh = !testStore.isRefresh
  }, time)
}
</script>

<template>
  <div
    class="fixed right-0 top-0 z-100 bg-white transition-all duration-500"
    :style="{
      width: topWidth,
    }"
  >
    <!-- ‰∏äÈÉ® -->
    <div
      class="relative h-15 flex select-none items-center justify-between border-b-[1px] border-[#eaebf1]"
    >
      <!-- Â∑¶‰æß -->
      <div
        class="flex items-center gap-3"
      >
        <!-- Âà∑Êñ∞ÊåâÈíÆ -->
        <ButtonIcon
          class="ml-3"
          tooltip-content="Âà∑Êñ∞È°µÈù¢"
        >
          <div
            :class="{ 'animate-spin duration-[750ms]': refreshLoading }"
            @click="handleRefresh()"
          >
            <SvgIcon
              icon="blog-refresh"
            />
          </div>
        </ButtonIcon>

        <!-- Âø´ÈÄüÂÖ•Âè£ -->
        <FastWidth
          v-if="width >= 1200"
        />

        <!-- Èù¢ÂåÖÂ±ë -->
        <Breadcrumb />

      </div>

      <!-- Âè≥‰æß -->
      <div
        class=""
      >
        <!-- ÊêúÁ¥¢ -->
        <div
          class="search-wrap"
        >
          <div
            class="search-input"
            @click="openSearchDialog"
          >
            <div
              class="left"
            >

              <SvgIcon
                icon="search"
              />

              <span>ÊêúÁ¥¢</span>
            </div>

            <div
              class="search-keydown"
            >
              <i
                class="iconfont-sys"
              >&#xeeac;</i>

              <span>k</span>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</template>

<style lang="less" scoped>

</style>
